
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="一个用于宏和mkdocs自动化的框架">
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.3.0, mkdocs-material-8.2.7">
    
    
      
        <title>为什么要做这个项目? - mkdocs-macros</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.9d5733d3.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.e6a45f82.min.css">
        
          
          
          <meta name="theme-color" content="#009485">
        
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="teal">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#why-developing-the-macros-plugin" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href=".." title="mkdocs-macros" class="md-header__button md-logo" aria-label="mkdocs-macros" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            mkdocs-macros
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              为什么要做这个项目?
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="清空当前内容" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/fralau/mkdocs_macros_plugin" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href=".." class="md-tabs__link">
      主页
    </a>
  </li>

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../pages/" class="md-tabs__link">
        用户指南
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../tips/" class="md-tabs__link">
        常见问题解答
      </a>
    </li>
  

      
        
  
  


  <li class="md-tabs__item">
    <a href="../contribute/" class="md-tabs__link">
      贡献
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../changelog/" class="md-tabs__link">
      更新日志
    </a>
  </li>

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="./" class="md-tabs__link md-tabs__link--active">
        关于
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="mkdocs-macros" class="md-nav__button md-logo" aria-label="mkdocs-macros" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    mkdocs-macros
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/fralau/mkdocs_macros_plugin" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        主页
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          用户指南
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="用户指南" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          用户指南
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../pages/" class="md-nav__link">
        丰富的Markdown页面
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../git_info/" class="md-nav__link">
        Git信息
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../macros/" class="md-nav__link">
        编写模块
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../pluglets/" class="md-nav__link">
        写作pluglet
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../advanced/" class="md-nav__link">
        高级用法
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          常见问题解答
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="常见问题解答" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          常见问题解答
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tips/" class="md-nav__link">
        小贴士和技巧
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../troubleshooting/" class="md-nav__link">
        故障排除
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../help/" class="md-nav__link">
        寻求帮助?
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../contribute/" class="md-nav__link">
        贡献
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../changelog/" class="md-nav__link">
        更新日志
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_6">
          关于
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="关于" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          关于
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          为什么要做这个项目?
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        为什么要做这个项目?
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#sources-of-inspiration" class="md-nav__link">
    Sources of inspiration
  </a>
  
    <nav class="md-nav" aria-label="Sources of inspiration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mkdocs-markdownextradata-rosscdh" class="md-nav__link">
    mkdocs-markdownextradata (rosscdh)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jinja2-variables-can-also-be-python-callables" class="md-nav__link">
    jinja2: variables can also be Python callables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mkdocs-git-wiki-engine" class="md-nav__link">
    MkDocs + git = Wiki Engine
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#macros-in-a-wiki-engine" class="md-nav__link">
    Macros in a Wiki Engine
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#use-case-overcoming-the-intrinsic-limitations-of-markdown-syntax" class="md-nav__link">
    Use Case: Overcoming the Intrinsic Limitations of Markdown Syntax
  </a>
  
    <nav class="md-nav" aria-label="Use Case: Overcoming the Intrinsic Limitations of Markdown Syntax">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#solution-1-markdown-extensions" class="md-nav__link">
    Solution 1: Markdown extensions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#solution-2-custom-html-code" class="md-nav__link">
    Solution 2: Custom HTML Code
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#solution-3-enter-macros" class="md-nav__link">
    Solution 3: Enter Macros
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../license/" class="md-nav__link">
        许可证
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#sources-of-inspiration" class="md-nav__link">
    Sources of inspiration
  </a>
  
    <nav class="md-nav" aria-label="Sources of inspiration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mkdocs-markdownextradata-rosscdh" class="md-nav__link">
    mkdocs-markdownextradata (rosscdh)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jinja2-variables-can-also-be-python-callables" class="md-nav__link">
    jinja2: variables can also be Python callables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mkdocs-git-wiki-engine" class="md-nav__link">
    MkDocs + git = Wiki Engine
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#macros-in-a-wiki-engine" class="md-nav__link">
    Macros in a Wiki Engine
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#use-case-overcoming-the-intrinsic-limitations-of-markdown-syntax" class="md-nav__link">
    Use Case: Overcoming the Intrinsic Limitations of Markdown Syntax
  </a>
  
    <nav class="md-nav" aria-label="Use Case: Overcoming the Intrinsic Limitations of Markdown Syntax">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#solution-1-markdown-extensions" class="md-nav__link">
    Solution 1: Markdown extensions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#solution-2-custom-html-code" class="md-nav__link">
    Solution 2: Custom HTML Code
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#solution-3-enter-macros" class="md-nav__link">
    Solution 3: Enter Macros
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
<a href="https://github.com/fralau/mkdocs_macros_plugin/edit/master/webdoc/docs/why.md" title="编辑此页" class="md-content__button md-icon">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
</a>



<h1 id="why-developing-the-macros-plugin">Why developing the macros plugin?</h1>
<h2 id="sources-of-inspiration">Sources of inspiration</h2>
<h3 id="mkdocs-markdownextradata-rosscdh">mkdocs-markdownextradata (rosscdh)</h3>
<p>The idea for that extension came to me after I saw the excellent plugin
<a href="https://github.com/rosscdh/mkdocs-markdownextradata-plugin">mkdocs-markdownextradata</a>
created by rosscdh, which takes metadata data from the <code>mkdocs.yml</code>
file, and allows you to insert them with double curly brackets:</p>
<pre><code>The price of the item is {{ price }}.
</code></pre>
<p>His idea of using the <a href="http://jinja.pocoo.org/docs/2.10/">jinja2</a>
templating engine for that purpose was simple and beautiful: all it took
for this plugin was a few lines of code.</p>
<h3 id="jinja2-variables-can-also-be-python-callables">jinja2: variables can also be Python callables</h3>
<p>I then discovered that the creators of jinja2, in their great wisdom
(thanks to them!), had decided to support <em>any</em> kind of Python
variables, <em>including callables</em>, typically functions, e.g.:</p>
<pre><code>The price of the item is {{ calculate(2, 7.4) }}.
</code></pre>
<p>Perhaps they did not think it was worth more than a few words in their
documentation, but it was a diamond in plain sight.</p>
<div class="admonition tip">
<p class="admonition-title">Idea</p>
<p><strong>Oh yeah?</strong> So let's call Python functions from the markdown pages of
MkDocs!</p>
</div>
<h3 id="mkdocs-git-wiki-engine">MkDocs + git = Wiki Engine</h3>
<div class="admonition tip">
<p class="admonition-title">Observation</p>
<p><strong>The idea of using 'macros' to speed up the process of writing web
pages is in fact rather old</strong> and traces back to <strong>wiki engines</strong>.</p>
</div>
<p><a href="https://wiki.c2.com/?WikiEngine">Wiki engines</a> 
were defined around 1995 by 
<a href="https://wiki.c2.com/?WardCunningham">Ward Cunningham</a> 
as <strong>software based on the
<a href="https://wiki.c2.com/?WikiPrinciples">Wiki Principles</a></strong>, among which:</p>
<ol>
<li>Easy text entry, <em>for which markdown is perfect</em></li>
<li>Automatic link generation</li>
<li>Content editable by all, <em>whoever all means</em></li>
<li>Recent changes</li>
<li>Search a page by title and/or contents</li>
<li>Quick diff (see the changes made to a wiki page)</li>
<li>Page list (list all pages in the wiki)</li>
<li>Back Link (find all pages pointing to a page)</li>
</ol>
<p>Thee simple principles were a revolution in the management of
online documentation.</p>
<div class="admonition note">
<p class="admonition-title">Conclusion</p>
<p>The combination of <strong>MkDocs + git easily answers all those criteria</strong>
(with the possible exception of the last one), 
therefore <strong>it is a wiki engine</strong>. </p>
</div>
<h3 id="macros-in-a-wiki-engine">Macros in a Wiki Engine</h3>
<div class="admonition note">
<p class="admonition-title">Observation</p>
<p>Most <strong>wiki engines</strong>, which also rely on some
<a href="http://wiki.c2.com/?MarkupLanguage">markup</a> language, had the same
issue of enriching the markup language of their pages, at the turn of
the year 2000.</p>
<p>In response, they started implementing <strong>macros</strong> in one form or another 
(in mediawiki/Wikipedia, they are confusingly called
<a href="https://www.mediawiki.org/wiki/Help:Templates">templates</a>). And in many
cases, these wiki engines already relied on the double-curly-braces
syntax.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">The Weakness of Wiki Macros</p>
<p>Wikis sometimes gave an impression that "self-developed macros"
where impractical, 
because they were sometimes extremely difficult develop.</p>
<p><strong>Atlassian Confluence</strong> is a case in point, since 
<a href="https://developer.atlassian.com/server/confluence/macro-tutorials-for-confluence/">writing macros for it</a> requires
Java development skills, as well as boilerplate code. </p>
</div>
<h2 id="use-case-overcoming-the-intrinsic-limitations-of-markdown-syntax">Use Case: Overcoming the Intrinsic Limitations of Markdown Syntax</h2>
<p><a href="https://www.mkdocs.org/">MkDocs</a> is a powerful, elegant and simple tool
for generating websites. Pages are based on <strong>markdown</strong>, which is
simple by design.</p>
<p>The power and appeal of markdown comes from its extreme simplicity.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The downside of markdown's powerful simplicity is that its
expressiveness necessarily limited.</p>
<p>What do you do if you want to enrich markdown pages with features like
buttons, fancy images, etc.?</p>
</div>
<h3 id="solution-1-markdown-extensions">Solution 1: Markdown extensions</h3>
<p>In order to express more concepts with markdown, one possible recourse
is to extend its through <strong>standard</strong> <a href="https://python-markdown.github.io/extensions/">markdown
extensions</a>. Adding
extensions to mkdocs is straightforward, since those extensions can be
directly activated through the <code>mkdocs.yml</code>configuration file of the
website e.g.:</p>
<pre><code class="language-yaml">markdown_extensions:
    - footnotes
</code></pre>
<div class="admonition tip">
<p class="admonition-title">Advantage</p>
<p>Some markdown extensions, such as
<a href="https://squidfunk.github.io/mkdocs-material/extensions/admonition/">admonition</a> are particularly powerful:</p>
<pre><code>!!! Note
    This is a note
</code></pre>
<p>They are highly recommended.</p>
</div>
<p>(If they are non-standard, you just have to install them first on your
machine.)</p>
<div class="admonition warning">
<p class="admonition-title">Problem</p>
<p>The problem is, however, that there will <em>always</em> be <em>something</em>
specific you will want to do, for which there is no markdown extension
available. Or the extension will be too complicated, or not quite what
you wanted.</p>
</div>
<p>Furthermore, the are limitations to the number of possible extensions,
because extending the grammar of markdown is always a little tricky.</p>
<p>Some markdown extensions could alter what you meant with the standard
markdown syntax (in other words, some markdown text you already wrote
could be accidentally reinterpreted); or it could be incompatible with
other extensions.</p>
<h3 id="solution-2-custom-html-code">Solution 2: Custom HTML Code</h3>
<p>If don't have an extension, the standard recourse is to write some pure
HTML within your markdown, which may also contain some css code
(especially if you are using css that is specific to your theme or
website), e.g.:</p>
<pre><code class="language-html">Here is my code:

&lt;a class='button' href=&quot;http://your.website.com/page&quot;&gt;Try this&lt;/a&gt;
</code></pre>
<p>The combination of HTML and css works well and can solve a wide range of
issues.</p>
<div class="admonition warning">
<p class="admonition-title">Problem</p>
<p>But it will soon become tedious, if you have to type the same code again
and again with some variations; and if you want to change something to
the call (typically the css class), you will then have to manually
change <em>all</em> instances of that code, with all the related risks. This
solution doesn't scale.</p>
</div>
<h3 id="solution-3-enter-macros">Solution 3: Enter Macros</h3>
<div class="admonition tip">
<p class="admonition-title">The Basic Idea</p>
<p>A <strong>static website generator</strong> like <strong>mkdocs</strong> is nothing 
else than a <strong>wiki engine</strong>
whose online editing features have been removed, to make it "wiki-wikier"
(faster, leaner and meaner).</p>
</div>
<p>What if mkdocs provided <strong>macros</strong> like a wiki engine,
that would allow you to write the
above HTML as:</p>
<pre><code>{{ button('Try this', 'http://your.website.com/page') }}
</code></pre>
<p>... that call was translated into the proper HTML?</p>
<p><strong>That would be something you could teach to a person who can already
write markdown, without the need for them to get involved in <em>any</em> css
or HTML!</strong></p>
<p>And, what's more, you could <em>easily</em> (as a programmer) write your own
new macro in Python, whenever you needed one?</p>
<div class="admonition note">
<p class="admonition-title">Definition of a macro</p>
<p>A <strong>macro</strong> is, simply stated, a <em>Python</em> <strong>function</strong> with
arguments that returns a string. </p>
<p>Macros are called from markdown pages. The result of each call
to a macro is 
then <strong>embedded</strong> into the page, before mkdocs <strong>renders</strong>
that page into a HTML page.</p>
<p>A macro may contain all the logic required;
it could be as simple as a button, or as sophisticated as
making a query from a database and formatting the results as markdown
or HTML.</p>
<p><strong>Macros</strong> bring to <strong>mkdocs</strong> the power and flexibility of
macros from wiki engines, without their complexity.</p>
</div>
<p>All of this becomes possible, thanks to <strong>mkdocs-macros-plugin</strong>!</p>

              
            </article>
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="页脚">
      
        
        <a href="../changelog/" class="md-footer__link md-footer__link--prev" aria-label="上一页: 更新日志" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                上一页
              </span>
              更新日志
            </div>
          </div>
        </a>
      
      
        
        <a href="../license/" class="md-footer__link md-footer__link--next" aria-label="下一页: 许可证" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                下一页
              </span>
              许可证
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      © Laurent Franceschetti, 2020. This work is licensed under CC BY-SA 4.0.
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.sections", "navigation.tabs"], "search": "../assets/javascripts/workers/search.5e67fbfe.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.config.lang": "ja", "search.config.pipeline": "trimmer, stemmer", "search.config.separator": "[\\uff0c\\u3002]+", "search.placeholder": "\u641c\u7d22", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version.title": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
    
    
      <script src="../assets/javascripts/bundle.e87a5f81.min.js"></script>
      
    
  </body>
</html>